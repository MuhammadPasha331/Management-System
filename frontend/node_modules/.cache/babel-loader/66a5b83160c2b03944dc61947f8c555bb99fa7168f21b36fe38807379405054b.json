{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\Developershub\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Auth from './components/Auth';\nimport Navbar from './components/Navbar';\nimport TaskForm from './components/TaskForm';\nimport TaskList from './components/TaskList';\nimport TaskDetails from './components/TaskDetails';\nimport ProgressBar from './components/ProgressBar';\nimport API from './services/api';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [token, setToken] = useState(localStorage.getItem('token'));\n  const [user, setUser] = useState(null);\n  const [tasks, setTasks] = useState([]);\n  const [taskToEdit, setTaskToEdit] = useState(null);\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [page, setPage] = useState('list');\n  const fetchTasks = async () => {\n    try {\n      const res = await API.get('/tasks');\n      setTasks(res.data);\n    } catch (err) {\n      console.error('Error fetching tasks:', err);\n    }\n  };\n  useEffect(() => {\n    const fetchUserAndTasks = async () => {\n      try {\n        const res = await API.get('/auth/profile');\n        setUser(res.data);\n        await fetchTasks();\n      } catch (err) {\n        console.error('Token expired or invalid, logging out.');\n        setToken(null);\n        localStorage.removeItem('token');\n      }\n    };\n    if (token) fetchUserAndTasks();\n  }, [token]);\n  const handleDelete = async id => {\n    try {\n      await API.delete(`/tasks/${id}`);\n      await fetchTasks();\n      setTaskToEdit(null); // Clear form after deletion\n    } catch (err) {\n      console.error('Error deleting task:', err);\n    }\n  };\n  if (!token) return /*#__PURE__*/_jsxDEV(Auth, {\n    setToken: setToken,\n    setUser: setUser\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(Navbar, {\n        onNavigate: setPage,\n        user: user,\n        setToken: setToken\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(ProgressBar, {\n        tasks: tasks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), page === 'create' && /*#__PURE__*/_jsxDEV(TaskForm, {\n        fetchTasks: fetchTasks,\n        taskToEdit: taskToEdit,\n        clearEdit: () => setTaskToEdit(null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), page === 'list' && /*#__PURE__*/_jsxDEV(TaskList, {\n        tasks: tasks,\n        onEdit: task => {\n          setTaskToEdit(task);\n          setPage('create');\n        },\n        onDelete: handleDelete,\n        onView: task => {\n          setSelectedTask(task);\n          setPage('details');\n        },\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), page === 'details' && selectedTask && /*#__PURE__*/_jsxDEV(TaskDetails, {\n        task: selectedTask\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"UhQHiz5Gt7F11ilOLfmxNHE+SL0=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Auth","Navbar","TaskForm","TaskList","TaskDetails","ProgressBar","API","jsxDEV","_jsxDEV","App","_s","token","setToken","localStorage","getItem","user","setUser","tasks","setTasks","taskToEdit","setTaskToEdit","selectedTask","setSelectedTask","page","setPage","fetchTasks","res","get","data","err","console","error","fetchUserAndTasks","removeItem","handleDelete","id","delete","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onNavigate","clearEdit","onEdit","task","onDelete","onView","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/Developershub/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Auth from './components/Auth';\nimport Navbar from './components/Navbar';\nimport TaskForm from './components/TaskForm';\nimport TaskList from './components/TaskList';\nimport TaskDetails from './components/TaskDetails';\nimport ProgressBar from './components/ProgressBar';\nimport API from './services/api';\nimport './App.css';\n\nexport default function App() {\n  const [token, setToken] = useState(localStorage.getItem('token'));\n  const [user, setUser] = useState(null);\n  const [tasks, setTasks] = useState([]);\n  const [taskToEdit, setTaskToEdit] = useState(null);\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [page, setPage] = useState('list');\n\n  const fetchTasks = async () => {\n    try {\n      const res = await API.get('/tasks');\n      setTasks(res.data);\n    } catch (err) {\n      console.error('Error fetching tasks:', err);\n    }\n  };\n\n  useEffect(() => {\n    const fetchUserAndTasks = async () => {\n      try {\n        const res = await API.get('/auth/profile');\n        setUser(res.data);\n        await fetchTasks();\n      } catch (err) {\n        console.error('Token expired or invalid, logging out.');\n        setToken(null);\n        localStorage.removeItem('token');\n      }\n    };\n\n    if (token) fetchUserAndTasks();\n  }, [token]);\n\n  const handleDelete = async id => {\n    try {\n      await API.delete(`/tasks/${id}`);\n      await fetchTasks();\n      setTaskToEdit(null); // Clear form after deletion\n    } catch (err) {\n      console.error('Error deleting task:', err);\n    }\n  };\n\n  if (!token) return <Auth setToken={setToken} setUser={setUser} />;\n\n  return (\n    <div className=\"App\">\n      {/* âœ… Navbar at the top */}\n      <header>\n        <Navbar onNavigate={setPage} user={user} setToken={setToken} />\n      </header>\n\n      <main>\n        <ProgressBar tasks={tasks} />\n\n        {/* ðŸ‘‡ Conditional Routing */}\n        {page === 'create' && (\n          <TaskForm\n            fetchTasks={fetchTasks}\n            taskToEdit={taskToEdit}\n            clearEdit={() => setTaskToEdit(null)}\n          />\n        )}\n\n        {page === 'list' && (\n          <TaskList\n            tasks={tasks}\n            onEdit={task => {\n              setTaskToEdit(task);\n              setPage('create');\n            }}\n            onDelete={handleDelete}\n            onView={task => {\n              setSelectedTask(task);\n              setPage('details');\n            }}\n            user={user}\n          />\n        )}\n\n        {page === 'details' && selectedTask && (\n          <TaskDetails task={selectedTask} />\n        )}\n\n      </main>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}